main logic here, controller part of mvc
